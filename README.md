# conversion of encoding and name suffix

QQ：987934184
WeChat：Luoxi__0429

2020/10/6
编写本代码的目的：
	本人是研一，一般研究生都可以申请三助岗位，其中最多就是助教，本人就是导师所带课程的一个助教。
	在国庆期间收到老师要求批改学生实验报告和实验代码的任务，而且学生还不少呢。为了提高效率，对于
实验报告部分我都是大概浏览，然后看看学生写实验报告的完整度，以及有没有结果和对结果的分析如何来评
判，相对比较简单。所用的学生管理系统是超星的一个平台，在上面可以直接点击word、pdf(实验报告一般用
这2种方式写)，并可以在线浏览，对于批改还是很方便的。
	然而对于代码就不行了，本次实验主要是C语言代码，所以编写代码的后缀名就可以有许多，主要就是四
种.c/.word/.pdf/.txt。对于特定实验，学生们编写的代码都比较"专业化"，所以我也就很难去评判他们是
不是真的会，是不是存在抄袭等。所以我就想要借助代码查重系统"MOSS"来帮我完成抄袭检测任务，让我能更
快批改代码部分。但是MOSS系统查C语言代码时只支持.c后缀的文件，而且文件名和文件路径必须都是英文的，
所以上述4种格式就只有一种能够直接用，于是我就萌生了编写一个脚本来修改文件的后缀名，将它们统一成
.c文件。然而直接改后缀名还不行，编码不统一时改了后缀名会导致出现乱码，所以还需要将它们的编码统一
转换成utf-8，我觉得这样就可以实现文件的转换了，就可以全部导入到MOSS系统中进行查重。
	截止到昨天我其实已经改完了学生的实验报告和代码并生成分数提交给老师了，因为昨天就截止。对于学
生代码部分的修改其实我是一个个看，就看他们有没有注释(可以认为他们懂了)、写的代码看起来与其他人是不
是相差很多(可以认为是自己写的)。教学归根结底还是要让学生学懂，所以达到这两个方面就可以了，就可以给
他们满分，对于不满足的可以降低一些分数。这个批改过程还是很痛苦的，对于我这个用了4年的笔记本来说，
打开一个word都要等2-3秒，所以浪费了我很多时间。于是，本脚本的想法就诞生了，它的功能就是把编码和后
缀都统一起来，能够导入到MOSS系统中去进行相似度检测，以此来判断学生代码的质量。

2020/10/9
第一次更新：
	这次查了挺多资料，发现由txt转c还是挺简单的，但是由于自己许久不看python了，所以很多都看得很
吃力，于是决定回去复习几天廖大神的python教程，看到IO编程为止就可以来写这个东西了。
	这次编写的还是比较基础和简单的，就是把源文件夹(origin)下的所有txt和c后缀的文本文件拿出来单
独处理(对于word和pdf后面再去探究)。思路就是先把这些文件原封不动地复制到另一个文件夹(result)下；
然后对新文件夹再进行转换编码处理，把不是utf-8的一律读出来再以utf-8写进去；最后再把txt后缀名全部
改为c后缀。这3个步骤被单独编成了3个方法，定义在一个类TxT中这个类可以把c和txt都看成txt处理，这样
就方便之后添加word和pdf类进来。
	主函数是change.py，里面的内容很简单，就是实例化TxT，再顺序调用方法即可。开头部分有个路径可以
修改成自己的路径，比如我把txt2c总文件夹放到了E盘中，我就设置成：
	origin=r'E:\txt2c\origin'    
	result=r'E:\txt2c\result' 
前缀r是python的不转义标志，加上它后，在windows下用'/'或'\'都可以，其他系统我不知道。
	我把转换后的.c文件放入MOSS后运行成功，没有什么问题，不过注意要全英文路径+全英文名！
	大概就这样了吧，欢迎大家加我一起交♂流，或者加入一起完成